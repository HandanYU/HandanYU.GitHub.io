---
layout: post
title: 线性回归
summary: Markdown is a way to style text on the web. You control the display of the document; formating words as bold or italic, adding images, and creating lists are just a few of the things we can do with Markdown. Mostly, Markdown is just regular text with a few non-alphabetic characters thrown in.
featured-img: 线性回归

---

From [adam-p/markdown-here](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)

##### Table of Contents  
- [标准线性回归](#标准线性回归)  
  - [最小一乘法](#最小一乘法)  
  - [普通最小二乘法](#普通最小二乘法)  
- [局部加权线性回归](#局部加权线性回归)  
  - [加权最小二乘法](#加权最小二乘法)  
- [岭回归](#岭回归)  
- [LASSO回归](#LASSO回归)  
[Blockquotes](#blockquotes)  
[Inline HTML](#html)  
[Horizontal Rule](#hr)  
[Line Breaks](#lines)  
[Youtube videos](#videos)  

<a name="标准线性回归"/>

## 标准线性回归
本质是已知m$$(x_i,y_i)$$个需要拟合一条型如$$y=\omega x+b$$的直线$l$。则可根据满足$l$尽可能接近$$(x_i,y_i)$$，根据点到直线距离公式$$\frac{|\omega x_i-y_i+b|}{\sqrt{\omega^2+1}}$$建立目标函数

$$\min\limits_{\omega,b}\sum_{i=1}^m\frac{|\omega x_i-y_i+b|}{\sqrt{\omega^2+1}}\Rightarrow最小一乘  \min\limits_{\omega,b}\sum_{i=1}^m|\omega x_i-y_i+b|\Rightarrow最小二乘\min\limits_{\omega,b}\sum_{i=1}^m(\omega x_i-y_i+b)^2$$

<a name="最小一乘法"/>

### 最小一乘法

$$\min\limits_{\omega,b}\sum_{i=1}^m|\omega x_i-y_i+b|$$

$$\widehat{W}$$的最优解为$$\widehat{W}\in\{w\|wx_i-y_i+b=0\}$$

<a name="普通最小二乘法"/>
### 普通最小二乘法(OLS)
- 目标函数为

$$\min\limits_{\omega,b}\sum_{i=1}^m(\omega x_i-y_i+b)^2
=\min\limits_{\widehat{W}}(X\widehat{W}-y)^T(X\widehat{W}-y)$$

定义$$F(\widehat{W})=(X\widehat{W}-y)^T(X\widehat{W}-y)$$
- 损失函数为

  $$||X\widehat{W}-y||^2 $$
  
其中$$\widehat{W}=(\omega,b)^T,X=(x_1,x_2,\dots,x_m,1),y=(y_1,y_2,\dots,y_m)$$

#### 求解
- 通过对$$F(\widehat{W})$$求关于$$\widehat{W}$$的一阶偏导为0，此时求得的$$\widehat{W}$$为驻点，可以得到$$\widehat{W}$$可能最优解为$$\widehat{W}^*=(X^TX)^{-1}X^Ty$$
- 为了验证上面求得的$$\widehat{W}^*$$是否是真正的最优解，也就是要验证该驻点是否是极小值点，因此需要对$$F(\widehat{W})$$求关于$$\widehat{W}$$的二阶偏导，如果结果为正定的，则说明该点为极小值点。

#### 线性回归基本表达式

$$\widehat{W}^*=(X^TX)^{-1}X^Ty$$

- 陷阱一：$$X^TX$$不可逆,也就是$$X$$不是列满秩或存在列与列直线相关共线的情况。为解决$$X^TX$$不可逆，我们可以通过改进最小二乘法中大损失函数来解决，也就是正则化处理。常用的改进方法有以下两种分别为岭回归和LASSO回归(Least absolution and selection operator)

- 陷阱二：当特征维数过高$$(X\in R^{m\times d})$$ ,其中𝑚 为样本个数,𝑑为特征维,求$$(X^TX)^{-1}$$的时间复杂度为$$O(d^3)$$太复杂了，因此采用梯度下降法进行求解

<a name="局部加权线性回归"/>

## 局部加权线性回归（LWLR）
由于线性回归会出现欠拟合现象，因此引入局部加权线性回归

<a name="加权最小二乘法"/>

### 加权最小二乘法
- 目标函数为

$$\min\limits_{\omega,b}\sum_{i=1}^mw_i(\omega x_i-y_i+b)^2$$

定义$J(\widehat{W})=\sum_{i=1}^mw_i(\omega x_i-y_i+b)^2$

- 损失函数为
$$w||X\widehat{W}-y||^2$$

​	其中$$w$$是以$$w_i$$为对角线上的值的对角矩阵，即权重矩阵

#### 求解
对$J(\widehat{W})$求关于$\widehat{W}$的一阶偏导为0，得到$\widehat{W}=(XwX)^{-1}X^Twy$，其中$w_i=exp(-\frac{(x_i-x)^2}{2\sigma^2})$我们成其为$Gaussian$核，，可以看出$x$越接近$x_i$，则$w_i$就会越大
#### 对$\sigma$的选取
- $$\sigma$$越小，逼近效果越好，越容易产生过拟合
- $$\sigma$越大，逼近效果越差，越容易产生欠拟合
- 则根据模型复杂度-误差图得到如下$\sigma$取值方法
![image](https://note.youdao.com/yws/public/resource/cf6ffdff1ac9efd3d7ea23f51cdba86f/xmlnote/291DCB2C0F164E848099222C1FA29B77/3585)

<a name="岭回归"/>

## 岭回归
- 主要思想：修改损失函数,添加惩罚项（L2正则化项  ），在最优解中$$X^TX$$处添加单位向量,把不可逆变成可逆。这里通过引入$$\lambda$$来限制了所有$$\omega$$之和，通过引入该惩罚项，能够减少不重要的参数，这个技术在统计学中也叫做缩减(shrinkage)
  
  $$X^TX->X^TX+\lambda I$$

- 目标函数为

$$\min\limits_{\widehat{W}}=||X\widehat{W}-y||^2+\lambda||\widehat{W}||^2$$

其中$$\lambda\|\widehat{W}\|^2$$为正则化项

- 损失函数为

$$||X\widehat{W}-y||^2+\lambda||\widehat{W}||^2$$

- 最优解

$$\widehat{w}_{\lambda}^*=(X^TX+\lambda I)^{-1}X^Ty$$

#### $$\lambda$$的选取
- 当$$\lambda$$越大，容易导致$$\|X\widehat{W}-y\|^2$$不太起作用，故容易产生欠拟合
- 当$$\lambda$$越小，故容易产生过拟合
- 首先抽一部分数据用于测试，剩余的作为训练集用于训练参数$$\omega$$。训练完毕后在测试集上测试预测性能。通过选取不同的λ来重复上述测试过程，最终得到一个使预测误差最小的$$\lambda$$

<a name="LASSO回归"/>

## LASSO回归
- 主要思想：进行特征选取。修改损失函数，添加L1惩罚项。【选特征，类似于AIC信息准则法】，选取X的子列矩阵$$X'$$使得$$(X')^T(X')$$可逆
- 目标函数为

$$\min\limits_{\widehat{W}}=\frac{1}{2}||X\widehat{W}-y||^2+\lambda|\widehat{W}|$$

其中$$P_{\lambda}(|\widehat{W}|)$$为惩罚项
- 损失函数为

$$J(\widehat{W})=\frac{1}{2}||X\widehat{W}-y||^2+\lambda|\widehat{W}|$$



#### 求解
可通过降维到一维$$\frac{1}{2}(\widehat{W}-y)^2+\lambda|\widehat{W}|$$进行求解

故将目标函数化简为

$$\min\limits_{\widehat{W}\in R} \frac{1}{2}(\widehat{W}-y)^2+\lambda|\widehat{W}|$$

根据$$\widehat{W}$$与0的关系分为以下两种情况
- $$\widehat{W}\geq 0$$

$$J(\widehat{W})=\frac{1}{2}(\widehat{W}-y)^2+\lambda\widehat{W}$$

通过对$$J(\widehat{W})$$求关于$$\widehat{W}$$一次偏导为0得到

$$\widehat{W}=y-\lambda$$


- $$\widehat{W}\leq 0$$

$$J(\widehat{W})=\frac{1}{2}(\widehat{W}-y)^2-\lambda\widehat{W}$$

通过对$J(\widehat{W})$求关于$\widehat{W}$一次偏导为0得到

$$\widehat{W}=y+\lambda$$
 
故通过以上两种情况可以得到$y$与$\widehat{W}$的关系
![image](https://note.youdao.com/yws/public/resource/cf6ffdff1ac9efd3d7ea23f51cdba86f/xmlnote/WEBRESOURCE2bccde0c54885603bed3fa37d3b80f34/3672)


## 3.3 梯度下降
### 3.3.1 （批量）梯度下降法(BGD)
#### 1. 递推公式推导过程

通过多项式对函数进行逼近的方法得到

$$f(x)=f(x_0)+\frac{f'(x_0)}{1!}(x-x_0)+\frac{f''(x_0)}{2!}(x-x_0)^2+\dots+\frac{f^{(n)}(x_0)}{n!}(x-x_0)^n+R_n(x)$$

故

$$f(x)≈f(x_0)+f'(x_0)(x-x_0)$$

其中令$\Delta x=x-x_0$，则有

$$f(x)≈f(x_0)+\Delta x\nabla f(x_0)$$

则得到

$$f(x)-f(x_0)=\Delta x\nabla f(x_0)$$

其实$\Delta x$和$\nabla f(x_0)$都是向量，因此需要$f(x)-f(x_0)$最小，只有当$\Delta x$和$\nabla f(x_0)$两个方向相反，故有

$$\Delta x=-\alpha \nabla f(x_0)~~~~~~~\alpha >0$$

最终得到梯度下降法的递推公式为

$$x:=x-\alpha \nabla f(x)$$

#### 2. 求解最小二乘问题（采用梯度下降算法求解线性回归模型最优解）

- 线性回归模型

$$f_\omega(x)=\omega_0+\omega_1x+\dots+\omega_dx_d$$

其中d表示有d个特征.
- 损失函数

$$J(\widehat{\omega})=\frac{1}{2m}\sum\limits_{i=1}^m(X_i\widehat{\omega}-y_i)^2$$

其中m表示有m个样本点.
- 使用梯度下降最小化损失函数，求解最优解

根据梯度下降递推公式有

$$\widehat{\omega}:=\widehat{\omega}-\alpha\frac{\partial{J(\widehat{\omega})}}{\partial{\widehat{\omega}}}$$
即

$$\widehat{\omega}:=\widehat{\omega}-\frac{\alpha}{m}X^T(X\widehat{\omega}-y)=\widehat{\omega}-\frac{\alpha}{m}\sum\limits_{i=1}^m(X_i\widehat{\omega}-y_i)X_i^T$$


#### 3. 优点
此时时间复杂度为$O(md)$,迭代次数少
#### 4. 缺点
每次迭代都要用到训练集所有的数据，因此当数据量大的时候迭代速度会很慢
### 3.3.2 随机梯度下降（SGD）
通过观察发现$\frac{1}{m}\sum\limits_{i=1}^m(X_i\widehat{\omega}-y_i)X_i^T$相当于是所有训练集样本点的均值

记$z_i=(X_i\widehat{\omega}-y_i)X_i^T$，每个样本点i选取的概率为$\frac{1}{m}$，则有

$$E_i(z_i)=\frac{1}{m}\sum\limits_{i=1}^m(X_i\widehat{\omega}-y_i)X_i^T$$

故随机梯度下降法的递推公式为

$$\widehat{\omega}:=\widehat{\omega}-\alpha(X_j\widehat{\omega}-y_j)X_j^T$$


#### 优点
每次迭代使用随机的一个样本来对参数进行更新，使得训练速度加快，此时的时间复杂度为$O(d)$
#### 缺点
1. 准确度下降，当目标函数为强凸函数的情况下，无法做到线性收敛
2. 可能会收敛到局部最优
3. 迭代次数比BGD多

### 3.3.3 小批量梯度下降法(MBGD)
鉴于BGD,SGD的优缺点，提出每次迭代使用部分样本来对参数进行更新，故MBGD的迭代公式为

$$\widehat{\omega}:=\widehat{\omega}-\frac{\alpha}{\# J}\sum\limits_{j\in J}(X_j\widehat{\omega}-y_j)X_j^T$$


### 3.3.4 Adagrad

#### 递推公式
- step1:计算梯度$\nabla f(\widehat{\omega})$
- step2:累加平方梯度$r_{k+1}=r_k+(\nabla f(\widehat{\omega}_k))^2$
- step3:计算更新参数$$\widehat{\omega}_{k+1}:=\widehat{\omega}_k-\frac{\alpha}{\sqrt{r_{k+1}^2+\epsilon}}\nabla f(\widehat{\omega}_k)$$

#### 适用情况

有些参数已经近乎最优，因此只需要微调了，而另一些可能还需要很大的调整。这种情况可能会在样本较少的情况下出现，比如含有某一特征的样本出现较少，因此被代入优化的次数也较少，这样就导致不同参数的下降不平衡。adagrad就是来处理这类问题的。
#### 优点
不同的分量选取不同的学习率。在平缓的分量下降稍快，在陡峭的分量下降稍慢。
#### 缺点
累计梯度平方导致时间复杂度变大，迭代次数较多时，学习率过早过量减少
### 3.3.5 RMSprop
#### 递推公式
- step1:计算梯度$\nabla f(\widehat{\omega})$
- step2:加权累加平方梯度$r_{k+1}=\rho r_k+(1-\rho)(\nabla f(\widehat{\omega}_k))^2$,其中$\rho$表示学习率的衰减速率一般取0.9
- step3:参数更新$\widehat{\omega}_{k+1}:=\widehat{\omega}_k-\frac{\alpha}{\sqrt{r_{k+1}+\epsilon}}\nabla f(\widehat{\omega}_k)$
#### 优点
解决Adagrad的学习率逐渐消失的问题
### 3.3.6 Momentum
#### 主要思想
借助物理中动量的概念，更新时在一定程度上保持之前更新的方向，同时利用当前的梯度微调最终的方向。
#### 递推公式
- step1:计算梯度$\nabla f(\widehat{\omega})$
- step2:冲量的梯度更新$v_{k+1}=\alpha v_k-\eta\nabla f(\widehat{\omega})$
- step3:参数的更新$x_{k+1}=x_k+v_k$

### 3.4 Logistic回归与梯度上升法
![image](https://note.youdao.com/yws/public/resource/cf6ffdff1ac9efd3d7ea23f51cdba86f/xmlnote/E55E53CB00F4446E81CC1A64EEB3752E/4254)
#### 3.4.2 逻辑回归解决多分类问题
##### 一、 OvR
- 思想：

n 种类型的样本进行分类时，分别取一种样本作为一类，将剩余的所有类型的样本看做另一类，这样就形成了 n 个二分类问题，使用逻辑回归算法对 n 个数据集训练出 n 个模型，将待预测的样本传入这 n 个模型中，所得概率最高的那个模型对应的样本类型即认为是该预测样本的类型；
- 时间复杂度：O(n)
- 示意图
![image](https://note.youdao.com/yws/public/resource/cf6ffdff1ac9efd3d7ea23f51cdba86f/xmlnote/46794D7A7A51496BB7AD86E76BCEC393/4479)
![image](https://note.youdao.com/yws/public/resource/cf6ffdff1ac9efd3d7ea23f51cdba86f/xmlnote/0538F5351AF64FD1A705F6B44201FE32/4481)
##### 二、OvO
- 思想

 n 类样本中，每次挑出 2 种类型，两两结合，一共有 $C_n^2$ 种二分类情况，使用$C_n^2$种模型预测样本类型，有$C_n^2$ 个预测结果，种类最多的那种样本类型，就认为是该样本最终的预测类型；
- 时间复杂度：$O(n^2)$
- 示意图
![image](https://note.youdao.com/yws/public/resource/cf6ffdff1ac9efd3d7ea23f51cdba86f/xmlnote/DA7CAE16C2304323B12F9C348548E484/4493)
![image](https://note.youdao.com/yws/public/resource/cf6ffdff1ac9efd3d7ea23f51cdba86f/xmlnote/F9B7008076594B5392C5738390C3E876/4495)
##### 三、softmax
- 思想

由于发现OvR的所有概率相加通常会超过1，因此对OvR进行改进，对概率进行归一化
- 推导

令$z_i^j=(w^j)^Tx_i$,其中$w^j$表示第$j$类的权重(是个列向量)，$x_i$表示第$i$个样本(是个列向量)。

将$z_i^j$映射到$y_j(z_i)=e^{z_i^j}/\sum\limits_{c=1}^Ce^{z_i^c}$，其中C表示有C个类，$y_j(z_i)$表示第j类的softmax值，即样本$i$属于$j$类的概率

令$gs(z_i)=[y_1(z_i),y_2(z_i),\dots,y_C(z_i)]^T$
相当于用矩阵表示

$$Ps(w^Tx)=\frac{exp(w^Tx)}{1^Texp(w^Tx)},其中1是全为1的向量,w=[w^1,w^2,\dots,w^C]^T$$

用统计学知识解释，那么在多分类问题中，假设类别标签y∈{1, 2, ..., C}有C个取值，那么给定一个样本x，softmax回归预测x属于类别i的后验概率为：

$$P(y=i|x;w_i)=\frac{exp(w_i^Tx)}{\sum_{c=1}^Cexp(w_c^Tx)}.$$


- 示意图
![image](https://note.youdao.com/yws/public/resource/cf6ffdff1ac9efd3d7ea23f51cdba86f/xmlnote/08CA9236CBBE41DEBDF99A64E3A39A23/4514)
- 目标函数

$$L=\sum_kt_k⋅lnP(y=k)，其中目标类的t_k为1，其余类的t_k为0$$

- 权重递推公式

由于对比普通逻辑回归，只是改变了映射函数

logistic的递推公式

$$w:=w+\alpha \sum_{i=1}^C(x_i(y_i-g(w^Tx_i)))
w:=w-\alpha X^T(g(w^TX)-y)$$

则softmax的递推公式

$$w:=w+\alpha \sum_{i=1}^C(x_i(y_i-Ps(w^Tx_i)))
w:=w-\alpha X^T(Ps(w^TX)-y)$$


### 3.5 线性判别法(LDA)
#### 主要思想
需要找一条直线，希望各点投影在该直线上后，希望同一种类别数据的投影点尽可能的接近，而不同类别的数据的类别中心之间的距离尽可能的大。量化这两点感官，则需满足异类点的中心距离远，同类点的方差小
#### 模型建立
假设我们有数据集$D=\{(x_1,y_1),(x_2,y_2),\dots,(x_m,y_m)\}$，其中任意样本$x_i$为n为向量，$y_i\in\{0,1\}$，我们定义
- $X_i(i=0,1)$为第$i$类样本的集合，
- $\#X_i(i=0,1)$为第$i$类样本的个数，
- $a_i(i=0,1)$为第$i$类样本的投影中心点（是一个向量）,
- $\mu_i(i=0,1)$为第$i$类样本的中心点
- $S_i(i=0,1)$为第$i$类样本的方差
- $\Sigma_i(i=0,1)$为第$i$类样本的协方差矩阵

根据投影的知识可得

点$(x_{i1},x_{i2})$在直线$w_1x_1+w_2x_2=0$上的投影相当于向量$(x_{i1},x_{i2})$在向量$(w_1,w_2)$上的投影，即为向量$(x_{i1},x_{i2})$与向量$(w_1,w_2)$的点积$(x_i)^Tw$

则有
$$
a_i=\frac{1}{\#X_i}\sum_{j\in X_i}(x_j)^Tw~~~~~~~~~~~

=(\frac{1}{\#X_i}\sum_{j\in X_i}(x_j)^T)w~~

=\mu_iw
~~~~~~~~~~(i=0,1)
$$

$$
S_i=\sum_{j\in X_i}((x_j)^Tw-a_i)^2~~~~~~~~~~~~~~~~~~~~~~

=\sum_{j\in X_i}(((x_j)^T-\mu_i)w)^2~~~~~~~~~~~~~~（1）

=\sum_{j\in X_i}((x_j-\mu_i)^Tw)^2~~~~~~~~~~~~~~~~~（2）

=\sum_{j\in X_i}w^T(x_j-\mu_i)(x_j-\mu_i^T)w~~~（3）

=w^T(\sum_{j\in X_i}(x_j-\mu_i)(x_j-\mu_i)^T)w~~~~~~~~~~

=w^T\Sigma_iw~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~(i=0,1)
$$


- 其中(1)由$a_i$的表达式代入得到
- (2)由于$\mu_i$是数，一个数点转置还是它本身
- (3)根据$(x^Ty)^2=(x^Ty)(x^Ty)=(x^Ty)^T(x^Ty)=y^Txx^Ty$其中$x^Ty$为一个数

根据主要思想，我们建立以下目标函数

由于我们希望$|a_1-a_2|$尽可能大，$S_1+S_2$尽可能小，即可建立目标函数
$$
由于\min~~ |a_1-a_2|=>\min ~~(a_1-a_2)^2

\max\limits_{w}\frac{(a_1-a_2)^2}{S_1+S_2}
$$
下面求解$(a_1-a_2)^2$和$S_1+S_2$
$$
(a_1-a_2)^2=((\mu_1-\mu_2)w)^2=w^T(\mu_1-\mu_2)(\mu_1-\mu_2)^Tw


S_1+S_2=w^T(\Sigma_1+\Sigma_2)w
$$
最终确立目标函数为
$$
\max\limits_w=\frac{w^T(\mu_1-\mu_2)(\mu_1-\mu_2)^Tw}{w^T(\Sigma_1+\Sigma_2)w}
$$
根据拉格朗日乘子法得到最优权重为
$$
w^*=(\Sigma_1+\Sigma_2)^{-1}(\mu_1-\mu_2)
$$
当$\Sigma_1+\Sigma_2$不可逆的时候采用$w^*=(\Sigma_1+\Sigma_2+\lambda I)^{-1}(\mu_1-\mu_2)$















<a name="headers"/>
## Headers

```no-highlight
# H1
## H2
### H3
#### H4
##### H5
###### H6

Alternatively, for H1 and H2, an underline-ish style:

Alt-H1
======

Alt-H2
------
```

# H1
## H2
### H3
#### H4
##### H5
###### H6

Alternatively, for H1 and H2, an underline-ish style:

Alt-H1
======

Alt-H2
------

<a name="emphasis"/>
## Emphasis

```no-highlight
Emphasis, aka italics, with *asterisks* or _underscores_.

Strong emphasis, aka bold, with **asterisks** or __underscores__.

Combined emphasis with **asterisks and _underscores_**.

Strikethrough uses two tildes. ~~Scratch this.~~
```

Emphasis, aka italics, with *asterisks* or _underscores_.

Strong emphasis, aka bold, with **asterisks** or __underscores__.

Combined emphasis with **asterisks and _underscores_**.

Strikethrough uses two tildes. ~~Scratch this.~~


<a name="lists"/>
## Lists

(In this example, leading and trailing spaces are shown with with dots: ⋅)

```no-highlight
1. First ordered list item
2. Another item
⋅⋅* Unordered sub-list.
1. Actual numbers don't matter, just that it's a number
⋅⋅1. Ordered sub-list
4. And another item.

⋅⋅⋅You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we'll use three here to also align the raw Markdown).

⋅⋅⋅To have a line break without a paragraph, you will need to use two trailing spaces.⋅⋅
⋅⋅⋅Note that this line is separate, but within the same paragraph.⋅⋅
⋅⋅⋅(This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)

* Unordered list can use asterisks
- Or minuses
+ Or pluses
```

1. First ordered list item
2. Another item
  * Unordered sub-list.
1. Actual numbers don't matter, just that it's a number
  1. Ordered sub-list
4. And another item.

   You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we'll use three here to also align the raw Markdown).

   To have a line break without a paragraph, you will need to use two trailing spaces.  
   Note that this line is separate, but within the same paragraph.  
   (This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)

* Unordered list can use asterisks
- Or minuses
+ Or pluses

<a name="links"/>
## Links

There are two ways to create links.

```no-highlight
[I'm an inline-style link](https://www.google.com)

[I'm an inline-style link with title](https://www.google.com "Google's Homepage")

[I'm a reference-style link][Arbitrary case-insensitive reference text]

[I'm a relative reference to a repository file](../blob/master/LICENSE)

[You can use numbers for reference-style link definitions][1]

Or leave it empty and use the [link text itself].

URLs and URLs in angle brackets will automatically get turned into links.
http://www.example.com or <http://www.example.com> and sometimes
example.com (but not on Github, for example).

Some text to show that the reference links can follow later.

[arbitrary case-insensitive reference text]: https://www.mozilla.org
[1]: http://slashdot.org
[link text itself]: http://www.reddit.com
```

[I'm an inline-style link](https://www.google.com)

[I'm an inline-style link with title](https://www.google.com "Google's Homepage")

[I'm a reference-style link][Arbitrary case-insensitive reference text]

[I'm a relative reference to a repository file](../blob/master/LICENSE)

[You can use numbers for reference-style link definitions][1]

Or leave it empty and use the [link text itself].

URLs and URLs in angle brackets will automatically get turned into links.
http://www.example.com or <http://www.example.com> and sometimes
example.com (but not on Github, for example).

Some text to show that the reference links can follow later.

[arbitrary case-insensitive reference text]: https://www.mozilla.org
[1]: http://slashdot.org
[link text itself]: http://www.reddit.com

<a name="images"/>
## Images

```no-highlight
Here's our logo (hover to see the title text):

Inline-style:
![alt text](https://github.com/adam-p/markdown-here/raw/master/src/common/images/icon48.png "Logo Title Text 1")

Reference-style:
![alt text][logo]

[logo]: https://github.com/adam-p/markdown-here/raw/master/src/common/images/icon48.png "Logo Title Text 2"
```

Here's our logo (hover to see the title text):

Inline-style:
![alt text](https://github.com/adam-p/markdown-here/raw/master/src/common/images/icon48.png "Logo Title Text 1")

Reference-style:
![alt text][logo]

[logo]: https://github.com/adam-p/markdown-here/raw/master/src/common/images/icon48.png "Logo Title Text 2"

<a name="code"/>
## Code and Syntax Highlighting

Code blocks are part of the Markdown spec, but syntax highlighting isn't. However, many renderers -- like Github's and *Markdown Here* -- support syntax highlighting. Which languages are supported and how those language names should be written will vary from renderer to renderer. *Markdown Here* supports highlighting for dozens of languages (and not-really-languages, like diffs and HTTP headers); to see the complete list, and how to write the language names, see the [highlight.js demo page](http://softwaremaniacs.org/media/soft/highlight/test.html).

```no-highlight
Inline `code` has `back-ticks around` it.
```

Inline `code` has `back-ticks around` it.

Blocks of code are either fenced by lines with three back-ticks <code>```</code>, or are indented with four spaces. I recommend only using the fenced code blocks -- they're easier and only they support syntax highlighting.

<pre lang="no-highlight"><code>```javascript
var s = "JavaScript syntax highlighting";
alert(s);
```

```python
s = "Python syntax highlighting"
print s
```

```
No language indicated, so no syntax highlighting.
But let's throw in a &lt;b&gt;tag&lt;/b&gt;.
```
</code></pre>



```javascript
var s = "JavaScript syntax highlighting";
alert(s);
```

```python
s = "Python syntax highlighting"
print s
```

```
No language indicated, so no syntax highlighting in Markdown Here (varies on Github).
But let's throw in a <b>tag</b>.
```


<a name="tables"/>
## Tables

Tables aren't part of the core Markdown spec, but they are part of GFM and *Markdown Here* supports them. They are an easy way of adding tables to your email -- a task that would otherwise require copy-pasting from another application.

```no-highlight
Colons can be used to align columns.

| Tables        | Are           | Cool  |
| ------------- |:-------------:| -----:|
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |

There must be at least 3 dashes separating each header cell.
The outer pipes (|) are optional, and you don't need to make the
raw Markdown line up prettily. You can also use inline Markdown.

Markdown | Less | Pretty
--- | --- | ---
*Still* | `renders` | **nicely**
1 | 2 | 3
```

Colons can be used to align columns.

| Tables        | Are           | Cool |
| ------------- |:-------------:| -----:|
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |

There must be at least 3 dashes separating each header cell. The outer pipes (|) are optional, and you don't need to make the raw Markdown line up prettily. You can also use inline Markdown.

Markdown | Less | Pretty
--- | --- | ---
*Still* | `renders` | **nicely**
1 | 2 | 3

<a name="blockquotes"/>
## Blockquotes

```no-highlight
> Blockquotes are very handy in email to emulate reply text.
> This line is part of the same quote.

Quote break.

> This is a very long line that will still be quoted properly when it wraps. Oh boy let's keep writing to make sure this is long enough to actually wrap for everyone. Oh, you can *put* **Markdown** into a blockquote.
```

> Blockquotes are very handy in email to emulate reply text.
> This line is part of the same quote.

Quote break.

> This is a very long line that will still be quoted properly when it wraps. Oh boy let's keep writing to make sure this is long enough to actually wrap for everyone. Oh, you can *put* **Markdown** into a blockquote.

<a name="html"/>
## Inline HTML

You can also use raw HTML in your Markdown, and it'll mostly work pretty well.

```no-highlight
<dl>
  <dt>Definition list</dt>
  <dd>Is something people use sometimes.</dd>

  <dt>Markdown in HTML</dt>
  <dd>Does *not* work **very** well. Use HTML <em>tags</em>.</dd>
</dl>
```

<dl>
  <dt>Definition list</dt>
  <dd>Is something people use sometimes.</dd>

  <dt>Markdown in HTML</dt>
  <dd>Does *not* work **very** well. Use HTML <em>tags</em>.</dd>
</dl>

<a name="hr"/>
## Horizontal Rule

```
Three or more...

---

Hyphens

***

Asterisks

___

Underscores
```

Three or more...

---

Hyphens

***

Asterisks

___

Underscores

<a name="lines"/>
## Line Breaks

My basic recommendation for learning how line breaks work is to experiment and discover -- hit &lt;Enter&gt; once (i.e., insert one newline), then hit it twice (i.e., insert two newlines), see what happens. You'll soon learn to get what you want. "Markdown Toggle" is your friend.

Here are some things to try out:

```
Here's a line for us to start with.

This line is separated from the one above by two newlines, so it will be a *separate paragraph*.

This line is also a separate paragraph, but...
This line is only separated by a single newline, so it's a separate line in the *same paragraph*.
```

Here's a line for us to start with.

This line is separated from the one above by two newlines, so it will be a *separate paragraph*.

This line is also begins a separate paragraph, but...  
This line is only separated by a single newline, so it's a separate line in the *same paragraph*.

(Technical note: *Markdown Here* uses GFM line breaks, so there's no need to use MD's two-space line breaks.)

<a name="videos"/>
## Youtube videos

They can't be added directly but you can add an image with a link to the video like this:

```no-highlight
<a href="http://www.youtube.com/watch?feature=player_embedded&v=YOUTUBE_VIDEO_ID_HERE
" target="_blank"><img src="http://img.youtube.com/vi/YOUTUBE_VIDEO_ID_HERE/0.jpg"
alt="IMAGE ALT TEXT HERE" width="240" height="180" border="10" /></a>
```

Or, in pure Markdown, but losing the image sizing and border:

```no-highlight
[![IMAGE ALT TEXT HERE](http://img.youtube.com/vi/YOUTUBE_VIDEO_ID_HERE/0.jpg)](http://www.youtube.com/watch?v=YOUTUBE_VIDEO_ID_HERE)
```

Referencing a bug by #bugID in your git commit links it to the slip. For example #1.

---

License: [CC-BY](https://creativecommons.org/licenses/by/3.0/)
